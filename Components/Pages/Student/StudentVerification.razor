@page "/student/verification"
@layout Layout.StudentDashLayout

<div class="dashboard-center-container">
    <div class="sv-header">
        <h2 id="sv-modal-title">Student Verification</h2>
        <div class="sv-divider"></div>
    </div>

    <!-- Institution Check Section -->
    <section class="sv-card sv-card-elevated">
        <div class="sv-section-title">Institution Check</div>
        <div class="sv-institution-check">
            <div class="sv-field sv-field-vertical">
                <label class="sv-field-label">Are you affiliated with a partner institution?</label>
                <div class="sv-radio-group">
                    <label for="instYes" class="sv-radio-label">
                        <input type="radio" id="instYes" name="institutionCheck" value="Yes" @onchange="() => SetInstitutionCheck(true)" checked="@IsInstitutionAffiliated" />
                        Yes
                    </label>
                    <label for="instNo" class="sv-radio-label">
                        <input type="radio" id="instNo" name="institutionCheck" value="No" @onchange="() => SetInstitutionCheck(false)" checked="@(!IsInstitutionAffiliated)" />
                        No
                    </label>
                </div>
            </div>
            <div class="sv-field sv-field-vertical">
                <label for="institutionDropdown" class="sv-field-label">Select Institution</label>
                <div class="sv-custom-select @(IsInstitutionDropdownDisabled ? "sv-custom-select-disabled" : null)" tabindex="0"
                     @onclick="() => { if (!IsInstitutionDropdownDisabled) ToggleInstitutionDropdown(); }"
                     @onblur="CloseInstitutionDropdown"
                     style="@(IsInstitutionDropdownDisabled ? "pointer-events: none; opacity: 0.6;" : null)">
                    <span class="sv-custom-select-value">@SelectedInstitutionText</span>
                    <svg class="sv-custom-select-arrow" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
                    @if (ShowInstitutionDropdown && !IsInstitutionDropdownDisabled)
                    {
                        <ul class="sv-custom-select-list">
                            @{
                                var instNone = string.Empty;
                                var instA = "Institution A";
                                var instB = "Institution B";
                                var instC = "Institution C";
                            }
                            <li class="sv-custom-select-item @(string.IsNullOrEmpty(SelectedInstitution) ? "selected" : null)" @onmousedown="() => SelectInstitution(instNone)">Select an institution</li>
                            <li class="sv-custom-select-item @(SelectedInstitution == instA ? "selected" : null)" @onmousedown="() => SelectInstitution(instA)">Institution A</li>
                            <li class="sv-custom-select-item @(SelectedInstitution == instB ? "selected" : null)" @onmousedown="() => SelectInstitution(instB)">Institution B</li>
                            <li class="sv-custom-select-item @(SelectedInstitution == instC ? "selected" : null)" @onmousedown="() => SelectInstitution(instC)">Institution C</li>
                        </ul>
                    }
                </div>
            </div>
        </div>
    </section>

        <!-- Document Upload Section -->
    <section class="sv-card sv-card-elevated">
        <div class="sv-section-title">Document Upload</div>
        <div class="sv-upload-grid">
            <div class="sv-upload-field">
                <label for="idUpload" class="sv-field-label">Student ID <span class="sv-required">*</span></label>
                <div class="sv-upload-area">
                    <input type="file" id="idUpload" class="sv-file-input" accept="image/*,.pdf" />
                    <div class="sv-upload-placeholder">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 16L16 12H13V8H11V12H8L12 16Z" fill="currentColor"/>
                            <path d="M20 6H16L14 4H10L8 6H4C2.9 6 2 6.9 2 8V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6Z" fill="currentColor"/>
                        </svg>
                        <span>Click to upload or drag and drop</span>
                        <small>PNG, JPG or PDF (max. 5MB)</small>
                    </div>
                </div>
                <div class="sv-upload-preview" style="display:none;">
                    <img src="" alt="ID Preview" />
                    <button type="button" class="sv-remove-btn">Remove</button>
                </div>
            </div>
            <div class="sv-upload-field">
                <label for="corUpload" class="sv-field-label">Certificate of Registration (COR) <span class="sv-required">*</span></label>
                <div class="sv-upload-area">
                    <input type="file" id="corUpload" class="sv-file-input" accept="image/*,.pdf" />
                    <div class="sv-upload-placeholder">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 16L16 12H13V8H11V12H8L12 16Z" fill="currentColor"/>
                            <path d="M20 6H16L14 4H10L8 6H4C2.9 6 2 6.9 2 8V18C2 19.1 2.9 20 4 20H20C21.1 20 22 19.1 22 18V8C22 6.9 21.1 6 20 6Z" fill="currentColor"/>
                        </svg>
                        <span>Click to upload or drag and drop</span>
                        <small>PNG, JPG or PDF (max. 5MB)</small>
                    </div>
                </div>
                <div class="sv-upload-preview" style="display:none;">
                    <img src="" alt="COR Preview" />
                    <button type="button" class="sv-remove-btn">Remove</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Personal Information Section -->
    <section class="sv-card sv-card-elevated">
        <div class="sv-section-title">Personal Information</div>
        <div class="sv-form-grid">
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="firstName" class="sv-field-label">First Name <span class="sv-required">*</span></label>
                <input id="firstName" class="sv-input" type="text" placeholder="Enter your first name" />
            </div>
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="middleName" class="sv-field-label">Middle Name</label>
                <input id="middleName" class="sv-input" type="text" placeholder="Enter your middle name" />
            </div>
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="lastName" class="sv-field-label">Last Name <span class="sv-required">*</span></label>
                <input id="lastName" class="sv-input" type="text" placeholder="Enter your last name" />
            </div>
            <div class="sv-field-full sv-row-2col">
                <div class="sv-field sv-field-vertical">
                    <label for="sex" class="sv-field-label">Sex <span class="sv-required">*</span></label>
                    <div class="sv-custom-select" tabindex="0" @onclick="ToggleSexDropdown" @onblur="CloseSexDropdown">
                        <span class="sv-custom-select-value">@SelectedSexText</span>
                        <svg class="sv-custom-select-arrow" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
                        @if (ShowSexDropdown)
                        {
                            <ul class="sv-custom-select-list">
                                @{
                                    var sexNone = string.Empty;
                                    var sexMale = "Male";
                                    var sexFemale = "Female";
                                    var sexOther = "Other";
                                }
                                <li class="sv-custom-select-item @(string.IsNullOrEmpty(SelectedSex) ? "selected" : null)" @onmousedown="() => SelectSex(sexNone)">Select sex</li>
                                <li class="sv-custom-select-item @(SelectedSex == sexMale ? "selected" : null)" @onmousedown="() => SelectSex(sexMale)">Male</li>
                                <li class="sv-custom-select-item @(SelectedSex == sexFemale ? "selected" : null)" @onmousedown="() => SelectSex(sexFemale)">Female</li>
                                <li class="sv-custom-select-item @(SelectedSex == sexOther ? "selected" : null)" @onmousedown="() => SelectSex(sexOther)">Other</li>
                            </ul>
                        }
                    </div>
                </div>
                <div class="sv-field sv-field-vertical">
                    <label for="bday" class="sv-field-label">Birthday <span class="sv-required">*</span></label>
                    <input id="bday" type="date" class="sv-input" />
                </div>
            </div>
            <div class="sv-field-full sv-row-2col">
                <div class="sv-field sv-field-vertical">
                    <label for="nationality" class="sv-field-label">Nationality <span class="sv-required">*</span></label>
                    <input id="nationality" class="sv-input" type="text" placeholder="Enter your nationality" />
                </div>
                <div class="sv-field sv-field-vertical">
                    <label for="number" class="sv-field-label">Contact Number <span class="sv-required">*</span></label>
                    <input id="number" class="sv-input" type="tel" placeholder="Enter your contact number" />
                </div>
            </div>
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="address" class="sv-field-label">Address <span class="sv-required">*</span></label>
                <input id="address" class="sv-input" type="text" placeholder="Enter your complete address" />
            </div>
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="personalEmail" class="sv-field-label">Personal Email <span class="sv-required">*</span></label>
                <input id="personalEmail" class="sv-input" type="email" placeholder="Enter your personal email" />
            </div>
            <div class="sv-field sv-field-vertical sv-field-full">
                <label for="institutionalEmail" class="sv-field-label">Institutional Email</label>
                <input id="institutionalEmail" class="sv-input" type="email" placeholder="Enter your institutional email" />
            </div>
        </div>
    </section>



    <!-- Educational Information Section -->
    <section class="sv-card sv-card-elevated">
        <div class="sv-section-title">Educational Information</div>
        <div class="sv-form-grid">
            <div class="sv-field sv-field-vertical">
                <label for="university" class="sv-field-label">University <span class="sv-required">*</span></label>
                <input id="university" class="sv-input" type="text" placeholder="Enter your university" />
            </div>
            <div class="sv-field sv-field-vertical">
                <label for="studentNumber" class="sv-field-label">Student Number <span class="sv-required">*</span></label>
                <input id="studentNumber" class="sv-input" type="text" placeholder="Enter your student number" />
            </div>
            <div class="sv-field sv-field-vertical">
                <label for="program" class="sv-field-label">Program <span class="sv-required">*</span></label>
                <input id="program" class="sv-input" type="text" placeholder="BS Information Technology" />
            </div>
            <div class="sv-field sv-field-vertical">
                <label for="yearLevel" class="sv-field-label">Year Level <span class="sv-required">*</span></label>
                <div class="sv-custom-select" tabindex="0" @onclick="ToggleYearLevelDropdown" @onblur="CloseYearLevelDropdown">
                    <span class="sv-custom-select-value">@SelectedYearLevelText</span>
                    <svg class="sv-custom-select-arrow" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M6 9l6 6 6-6"/></svg>
                    @if (ShowYearLevelDropdown)
                    {
                        <ul class="sv-custom-select-list">
                            @{
                                var ylNone = string.Empty;
                                var yl1 = "1st Year";
                                var yl2 = "2nd Year";
                                var yl3 = "3rd Year";
                                var yl4 = "4th Year";
                                var yl5 = "5th Year";
                                var ylOther = "Other";
                            }
                            <li class="sv-custom-select-item @(string.IsNullOrEmpty(SelectedYearLevel) ? "selected" : null)" @onmousedown="() => SelectYearLevel(ylNone)">Select year level</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == yl1 ? "selected" : null)" @onmousedown="() => SelectYearLevel(yl1)">1st Year</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == yl2 ? "selected" : null)" @onmousedown="() => SelectYearLevel(yl2)">2nd Year</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == yl3 ? "selected" : null)" @onmousedown="() => SelectYearLevel(yl3)">3rd Year</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == yl4 ? "selected" : null)" @onmousedown="() => SelectYearLevel(yl4)">4th Year</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == yl5 ? "selected" : null)" @onmousedown="() => SelectYearLevel(yl5)">5th Year</li>
                            <li class="sv-custom-select-item @(SelectedYearLevel == ylOther ? "selected" : null)" @onmousedown="() => SelectYearLevel(ylOther)">Other</li>
                        </ul>
                    }
                </div>
            </div>
            <div class="sv-field sv-field-vertical">
                <label for="status" class="sv-field-label">Status</label>
                <div class="sv-status-badge sv-status-pending">Pending Verification</div>
            </div>
        </div>
    </section>

    <!-- Actions Section -->
    <div class="sv-actions-container">
        <div class="sv-actions-buttons">

            <button type="button" class="sv-btn sv-btn-secondary">Skip for now</button>
            <button type="submit" class="sv-btn sv-btn-primary" disabled>Submit Verification</button>
        </div>
        <div class="sv-status-messages">
            <div class="sv-status-info" style="display:none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" fill="currentColor"/>
                </svg>
                <span>Status message placeholder</span>
            </div>
            <div class="sv-status-error" style="display:none;">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z" fill="currentColor"/>
                </svg>
                <span>Error message placeholder</span>
            </div>
        </div>
    </div>

    @code {
        // Institution Check
        private bool IsInstitutionAffiliated = true;
        private void SetInstitutionCheck(bool affiliated)
        {
            IsInstitutionAffiliated = affiliated;
            if (!affiliated)
            {
                SelectedInstitution = string.Empty;
                ShowInstitutionDropdown = false;
            }
        }

        // Institution Dropdown
        private bool ShowInstitutionDropdown = false;
        private string SelectedInstitution = string.Empty;
        private string SelectedInstitutionText => string.IsNullOrEmpty(SelectedInstitution) ? "Select an institution" : SelectedInstitution;
        private bool IsInstitutionDropdownDisabled => !IsInstitutionAffiliated;
        private void ToggleInstitutionDropdown() { if (!IsInstitutionDropdownDisabled) ShowInstitutionDropdown = !ShowInstitutionDropdown; }
        private void CloseInstitutionDropdown() => ShowInstitutionDropdown = false;
        private void SelectInstitution(string value)
        {
            SelectedInstitution = value;
            ShowInstitutionDropdown = false;
        }

    // Sex Dropdown
        private bool ShowSexDropdown = false;
        private string SelectedSex = string.Empty;
        private string SelectedSexText => string.IsNullOrEmpty(SelectedSex) ? "Select sex" : SelectedSex;
        private void ToggleSexDropdown() => ShowSexDropdown = !ShowSexDropdown;
        private void CloseSexDropdown() => ShowSexDropdown = false;
        private void SelectSex(string value)
        {
            SelectedSex = value;
            ShowSexDropdown = false;
        }

        // Year Level Dropdown
        private bool ShowYearLevelDropdown = false;
        private string SelectedYearLevel = string.Empty;
        private string SelectedYearLevelText => string.IsNullOrEmpty(SelectedYearLevel) ? "Select year level" : SelectedYearLevel;
        private void ToggleYearLevelDropdown() => ShowYearLevelDropdown = !ShowYearLevelDropdown;
        private void CloseYearLevelDropdown() => ShowYearLevelDropdown = false;
        private void SelectYearLevel(string value)
        {
            SelectedYearLevel = value;
            ShowYearLevelDropdown = false;
        }
    }
</div>




