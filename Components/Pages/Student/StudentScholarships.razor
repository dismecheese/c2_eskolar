@page "/dashboard/student/scholarships"
@attribute [Authorize(Roles = "Student")]
@layout Layout.StudentDashLayout

<PageTitle>Scholarships</PageTitle>

<div class="scholarships-page">
    <!-- Search Bar -->
    <div class="scholarships-searchbar">
        <input type="text" class="scholarships-search-input" placeholder="Search" />
        <span class="scholarships-search-icon">
            <svg width="18" height="18" fill="none" viewBox="0 0 24 24">
                <circle cx="11" cy="11" r="8" stroke="#222" stroke-width="2"/>
                <path d="M21 21L17 17" stroke="#222" stroke-width="2" stroke-linecap="round"/>
            </svg>
        </span>
    </div>

    <!-- Tabs and Filters -->
    <div class="scholarships-tabs-filters">
        <div class="scholarships-tabs">
            <button class="scholarships-tab @(activeTab == 0 ? "active" : "")" @onclick="() => SetTab(0)">Institutional</button>
            <button class="scholarships-tab @(activeTab == 1 ? "active" : "")" @onclick="() => SetTab(1)">Open</button>
            <button class="scholarships-tab @(activeTab == 2 ? "active" : "")" @onclick="() => SetTab(2)">All</button>
            <button class="scholarships-tab @(activeTab == 3 ? "active" : "")" @onclick="() => SetTab(3)">Recommended</button>
        </div>
        <div class="scholarships-filters">
            <select class="scholarships-filter-dropdown">
                <option disabled selected>Filter</option>
                <option value="all">All Types</option>
                <option value="merit">Merit-based</option>
                <option value="need">Need-based</option>
                <option value="institutional">Institutional</option>
                <option value="open">Open</option>
                <option value="others">Other</option>
            </select>
            <select class="scholarships-sort-dropdown">
                <option>Sort</option>
            </select>
        </div>
    </div>

    @if (activeTab == 0)
    {
        <!-- Institutional Tab: Empty State -->
        <div class="scholarships-empty-message">
            Institutional scholarships will be available here once your school joins our platform.<br />
            Suggest your school to join eSkolar!
        </div>
    }
    else
    {
        <!-- Other Tabs: Scholarship Boxes -->
        <div class="scholarships-cards-grid">
            @for (int i = 0; i < 9; i++)
            {
                <a href="/dashboard/student/scholarships-info" class="scholarship-card text-decoration-none">
                    <div class="scholarship-card-img" style="width:70px;height:70px;margin-bottom:12px;background:#eee;display:flex;align-items:center;justify-content:center;">
                        <svg width="48" height="48" viewBox="0 0 48 48">
                            <rect x="4" y="4" width="40" height="40" fill="#fff" stroke="#bbb" stroke-width="2"/>
                            <line x1="14" y1="14" x2="34" y2="34" stroke="#bbb" stroke-width="2"/>
                            <line x1="14" y1="34" x2="34" y2="14" stroke="#bbb" stroke-width="2"/>
                        </svg>
                    </div>
                    <div class="scholarship-card-title">Scholarship Name</div>
                </a>
            }
        </div>
    }
</div>

<style>
.scholarships-page {
    max-width: 900px;
    margin: 40px auto 0 auto;
    padding: 0 16px;
    font-family: 'Inter', 'Helvetica Neue', Helvetica, Arial, sans-serif;
}

.scholarships-searchbar {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 32px;
    margin-top: 16px;
    position: relative;
}

.scholarships-search-input {
    width: 350px;
    padding: 10px 38px 10px 14px;
    border: 1.5px solid #d1d5db;
    border-radius: 8px;
    font-size: 1rem;
    outline: none;
    background: #fff;
}

.scholarships-search-icon {
    position: absolute;
    right: calc(50% - 175px + 14px);
    top: 50%;
    transform: translateY(-50%);
    pointer-events: none;
    color: #222;
    display: flex;
    align-items: center;
}

.scholarships-tabs-filters {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 32px;
    gap: 16px;
}

.scholarships-tabs {
    display: flex;
    gap: 2px;
}

.scholarships-tab {
    background: #f5f5f5;
    border: none;
    border-bottom: 2px solid transparent;
    color: #222;
    font-weight: 500;
    font-size: 1rem;
    padding: 6px 22px;
    cursor: pointer;
    border-radius: 4px 4px 0 0;
    transition: background 0.2s, border-bottom 0.2s, color 0.2s;
}

.scholarships-tab:hover:not(.active) {
    background: #e3eafc;
    color: #1a237e;
    border-bottom: 2px solid #b0bec5;
}

.scholarships-tab.active {
    background: #e3eafc;
    border-bottom: 2px solid #1a237e;
    color: #1a237e;
    font-weight: 700;
}

.scholarships-filters {
    display: flex;
    gap: 8px;
}

.scholarships-filter-dropdown,
.scholarships-sort-dropdown {
    padding: 4px 12px;
    border-radius: 4px;
    border: 1px solid #bdbdbd;
    background: #fff;
    font-size: 1rem;
}

.scholarships-empty-message {
    margin-top: 80px;
    text-align: center;
    color: #222;
    font-size: 1.08rem;
    line-height: 1.7;
}

.scholarships-cards-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 32px;
    margin-top: 48px;
}

.scholarship-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 16px rgba(0,0,0,0.13);
    padding: 1.2rem 1.2rem 1rem 1.2rem;
    min-height: 140px;
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: box-shadow 0.2s, transform 0.2s;
    cursor: pointer;
    text-decoration: none;
}

.scholarship-card:hover {
    box-shadow: 0 8px 32px rgba(0,0,0,0.18);
    transform: translateY(-4px) scale(1.03);
}

.scholarship-card-img {
    width: 70px;
    height: 70px;
    background: #eaeaea;
    border-radius: 8px;
    margin-bottom: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    border: 2px solid #bdbdbd;
}

.scholarship-card-title {
    font-size: 1rem;
    font-weight: 600;
    color: #222;
    text-align: center;
}
</style>

@code {
    private int activeTab = 0;

    private void SetTab(int tab)
    {
        activeTab = tab;
    }
}
